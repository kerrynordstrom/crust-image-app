(this["webpackJsonpcrust-image-uploader"]=this["webpackJsonpcrust-image-uploader"]||[]).push([[0],{124:function(e,t,a){},125:function(e,t,a){},150:function(e,t,a){},152:function(e,t,a){},156:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(38),c=a.n(r),l=a(37),o=(a(124),a(14)),s=a(216),d=a(7),u=a(207),b=a(166),j=a(219),m=a(159),h=a(162),x=a(164),p=a(211),f="https://crust-bikes-image-server.herokuapp.com/",g=a(24),O=(a(125),a(96)),v=a.n(O),k=a(97),y=a.n(k),C=a(158),N=a(4),R=a(8),w=a(220),S=a(2),D=Object(R.a)({root:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",borderRadius:3,border:0,color:"white",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)"}})((function(e){var t=e.onClick,a=e.content,n=e.disabled,i=e.classes,r=e.className;e.style;return Object(S.jsx)(w.a,{style:{margin:"5px",minWidth:"38px"},className:Object(N.a)(i.root,r),variant:"contained",color:"primary",disabled:n,onClick:t,children:a})})),B=function(e){var t=e.closeModal,a=(e.showBuildList,e.buildListShowing),n=Object(C.a)("(min-width: 600px)");return Object(S.jsx)("div",{style:{position:"sticky",float:"left",width:".25em",zIndex:1e3,top:"0px",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(S.jsx)(D,{onClick:t,content:a||!n?"X":"Close"})})},I={User:["User Name"],Frame:["Description","Model","Frame Size"],Drivetrain:["Front Derailleur","Rear Derailleur","Crank Set","Bottom Bracket","Chainring","Chain","Cassette or Cog","Pedals"],"Contact Points":["Stem","Headset","Handlebars","Shift or Brake Levers","Shifters","Seat Post","Saddle"],Brakes:["Front Brake","Rear Brake"],Wheels:["Front Hub","Front Rim","Front Tire","Rear Hub","Rear Rim","Rear Tire"],Etc:["Accessories"]},T=function(e){var t=e.bikeDetails,a=Object.entries(I);return Object(S.jsx)("div",{className:"build-list-container",children:Object(S.jsx)("div",{className:"build-list",children:a.map((function(e){return Object(S.jsxs)("table",{className:"build-list-table",children:[Object(S.jsx)("thead",{children:Object(S.jsx)("tr",{children:Object(S.jsx)("th",{className:"build-list-section-header",colSpan:"2",children:e[0]})})}),Object(S.jsx)("tbody",{children:e[1].map((function(e){var a=t[e];return Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{className:"build-list-row-header",style:{width:"20%"},children:"".concat(e)}),Object(S.jsxs)("td",{style:{width:"80%"},children:["".concat(a||"n/a")," "]})]},e)}))})]},e[0]+"table")}))})})},L=a(208),M=a(209),P=a(210),F=a(167),q=Object(u.a)({root:{maxWidth:345,minWidth:150,margin:"5px"},media:{height:140},cardContent:{padding:0,height:225,"&:last-child":{paddingBottom:0}}}),A=function(e){var t=e.photo,a=e.bikeID,n=e.bikeDetails,i=void 0===n?{}:n,r=e.setActive,c=e.openModal,l=e.shouldOpen,o=q(),s=function(){return i?i.displayName||i.Model||i.bikeModel:null};return Object(S.jsx)(L.a,{className:o.root,children:Object(S.jsx)(M.a,{onClick:function(){l&&(c(),r(a))},children:Object(S.jsxs)(P.a,{className:o.cardContent,children:[Object(S.jsx)("img",{className:"bike-card-img",src:t,alt:s()}),Object(S.jsx)("div",{className:"bike-card-footer",children:Object(S.jsx)(F.a,{variant:"h6",children:s()})})]})})})};function E(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var U=function(e){e.width,e.height;return{content:{overflowX:"hidden"},overlay:{zIndex:1e3}}},H=function(e){var t=e.showBike,a=e.bikeDetails,r=e.userName,c=e.photos,l=e.setActive,o=e.bikeID,s=(e.bikeModel,i.a.useState(!1)),u=Object(d.a)(s,2),b=u[0],j=u[1],m=i.a.useState(!1),h=Object(d.a)(m,2),x=h[0],p=h[1],f=function(){var e=Object(n.useState)(E()),t=Object(d.a)(e,2),a=t[0],i=t[1];return Object(n.useEffect)((function(){function e(){i(E())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a}(),O=f.height,k=f.width,C=function(){p(!1),j(!1),l(0)};return o===t?Object(S.jsx)("div",{children:c.length>0&&Object(S.jsxs)(y.a,{isOpen:b,onAfterOpen:function(){},onRequestClose:C,style:U({width:k,height:O}),ariaHideApp:!1,parentSelector:function(){return document.querySelector("#root")},contentLabel:"Gallery Modal",children:[Object(S.jsx)(B,{closeModal:C,showBuildList:function(){p(!x)},buildListShowing:x}),Object(S.jsx)(v.a,{items:c}),Object(S.jsx)(T,{bikeDetails:Object(g.a)(Object(g.a)({},a),{},{"User Name":r})})]})}):Object(S.jsx)(A,{photo:function(e){return e.length>0&&e[0].thumbnail?e[0].thumbnail:"https://via.placeholder.com/400x200.png?text=Placeholder"}(c),bikeID:o,bikeDetails:a,setActive:l,openModal:function(){j(!0)},shouldOpen:c.length>0})},z=(a(66),a(99)),W=a.n(z),G=a(100),_=a.n(G),J=a(101),V=a.n(J);var X={name:"21cycd",styles:"display:block;margin:0 auto;margin-left:-2vw;border-color:blue;"},K=["maroon","orange","purple","fuchsia","lime","teal","aqua","blue","navy","silver"],Q=function(e){var t=e.type,a=e.loading,i=e.size,r=Object(n.useState)(K[0]),c=Object(d.a)(r,2),l=c[0],o=c[1];return W()((function(){o(K[Math.floor(Math.random()*(K.length-1))])}),400),"pacman"===t?Object(S.jsx)(_.a,{color:l,loading:a,css:X,size:i}):Object(S.jsx)(V.a,{color:l,loading:a,size:i})},Y=Object(u.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"left",flexGrow:1},container:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"left"}}})),Z=function(){var e=Y(),t=Object(o.h)().bikeModel,a=Object(n.useState)([]),i=Object(d.a)(a,2),r=i[0],c=i[1],l=Object(n.useState)(!1),s=Object(d.a)(l,2),u=s[0],b=s[1],j=Object(n.useState)(0),m=Object(d.a)(j,2),h=m[0],x=m[1];return Object(n.useEffect)((function(){var e=!0;return b(!0),function(e){return fetch("".concat(f,"bikes/").concat(e),{method:"GET"}).then((function(e){return e.json()}))}(t).then((function(t){e&&(b(!1),c(t))})),function(){return e=!1}}),[t]),Object(S.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:r.length>0&&!u?Object(S.jsx)("div",{className:e.root,children:Object(S.jsx)(p.a,{container:!0,spacing:0,className:e.container,children:r.map((function(e,a){var n=e.photos,i=e.bikeDetails,r=e.userName,c=e.bikeID;return Object(S.jsx)(H,{bikeID:c,userName:r,bikeDetails:i,showBike:h,setActive:x,bikeModel:t,photos:n},c)}))})}):u?Object(S.jsx)("div",{className:"loading-spinner",children:Object(S.jsx)(Q,{loading:u,size:30})}):Object(S.jsx)("h1",{children:"No bikes yet!"})})},$=Object(u.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"left",flexGrow:1},container:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"left"}}})),ee=function(){var e=$(),t=Object(n.useState)([]),a=Object(d.a)(t,2),i=a[0],r=a[1],c=Object(n.useState)(!1),l=Object(d.a)(c,2),o=l[0],s=l[1],u=Object(n.useState)(0),b=Object(d.a)(u,2),j=b[0],m=b[1];return Object(n.useEffect)((function(){var e=!0;return s(!0),fetch("".concat(f,"bikes"),{method:"GET"}).then((function(e){return e.json()})).then((function(t){e&&(s(!1),r(t))})),function(){return e=!1}}),[]),Object(S.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:i.length>0&&!o?Object(S.jsx)("div",{className:e.root,children:Object(S.jsx)(p.a,{container:!0,spacing:0,className:e.container,children:i.map((function(e,t){var a=e.photos,n=e.bikeDetails,i=e.userName,r=e.bikeID;return Object(S.jsx)(H,{bikeID:r,userName:i,bikeDetails:n,showBike:j,setActive:m,photos:a},r)}))})}):o?Object(S.jsx)("div",{className:"loading-spinner",children:Object(S.jsx)(Q,{loading:o,size:30})}):Object(S.jsx)("h1",{children:"No bikes yet!"})})},te=[{displayName:"All",value:""},{displayName:"Lightning Bolt Disc",value:"lightningboltdisc"},{displayName:"Lightning Bolt Canti",value:"lightningboltcanti"},{displayName:"Lightning Bolt Breakaway",value:"lightningboltbreakaway"},{displayName:"Evasion",value:"evasion"},{displayName:"Evasion Lite",value:"evasionlite"},{displayName:"Romanceur Disc",value:"romanceurdisc"},{displayName:"Romanceur Canti",value:"romanceurcanti"},{displayName:"Bombora",value:"bombora"},{displayName:"Nor'Easter",value:"noreaster"},{displayName:"Dreamer",value:"dreamer"},{displayName:"Nor'Easter",value:"noreaster"},{displayName:"Scapegoat",value:"scapegoat"}],ae=Object(u.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),ne=function(e){var t=e.value,a=e.handleChange,n=ae();return Object(S.jsx)("div",{children:Object(S.jsxs)(m.a,{variant:"outlined",required:!0,className:n.formControl,children:[Object(S.jsx)(b.a,{id:"demo-simple-select-label",children:"Bike Model"}),Object(S.jsx)(x.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:t||"",onChange:a,children:te.map((function(e,t){return Object(S.jsx)(j.a,{value:e.value,children:e.displayName},"".concat(e,"-").concat(t))}))}),Object(S.jsx)(h.a,{children:"Please choose your Crust model"})]})})},ie=Object(u.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},select:{display:"flex",flexDirection:"column"}}})),re=function(e){e.value;var t=e.handleChange,a=(e.width,Object(o.i)()),i=ie(),r=Object(n.useState)(""),c=Object(d.a)(r,2),s=(c[0],c[1]),u=Object(n.useState)("All"),p=Object(d.a)(u,2),f=p[0],g=p[1];return Object(S.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",top:"255px",position:"sticky"},children:[Object(S.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:20},children:Object(S.jsxs)(m.a,{variant:"outlined",required:!0,className:i.formControl,children:[Object(S.jsx)(b.a,{id:"bike-selection-dropdown",children:"Bike Model"}),Object(S.jsx)(x.a,{labelId:"bike-selection-dropdown-label",className:"bike-selection-dropdown",value:f||"",onChange:t,children:te.map((function(e,t){return Object(S.jsx)(j.a,{value:e.displayName,children:Object(S.jsx)(l.b,{className:"bike-selection-dropdown-link",onClick:function(){s(e.value),g(e.displayName)},to:"".concat(a.path,"/").concat(e.value),children:e.displayName})},"".concat(e,"-").concat(t))}))}),Object(S.jsx)(h.a,{children:"Please choose your Crust model"})]})}),Object(S.jsxs)(o.d,{children:[Object(S.jsx)(o.b,{path:"".concat(a.path,"/:bikeModel"),children:Object(S.jsx)(Z,{})}),Object(S.jsx)(o.b,{path:a.path,children:Object(S.jsx)(ee,{})})]})]})},ce="https://crust-bikes-image-server.herokuapp.com/",le=function(e){var t=e.bikeID,a=e.documentID,n=e.setDisabled;n(!0),function(e){var t=e.bikeID,a=e.documentID;return fetch("".concat(ce,"bike/").concat(t,"/approve"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({documentID:a})}).then((function(e){return e}))}({bikeID:t,documentID:a}).then((function(){alert("Photos and description approved!  Window will close 3 seconds after you close this dialog."),setTimeout((function(){window.location.href="/"}),3e3)})).catch((function(e){console.log("error from approval",e),n(!1),alert("There was an issue approving the photos.  Please try again.")}))},oe=function(e){var t=e.documentID;t||(window.location.href="/");var a=Object(o.h)().bikeID,i=Object(n.useState)([]),r=Object(d.a)(i,2),c=r[0],l=r[1],s=Object(n.useState)(0),u=Object(d.a)(s,2),b=u[0],j=u[1],m=Object(n.useState)(!1),h=Object(d.a)(m,2),x=h[0],p=h[1],g=Object(n.useState)(!1),O=Object(d.a)(g,2),v=O[0],k=O[1];return Object(n.useEffect)((function(){var e=!0;return function(e){return fetch("".concat(f,"bike/").concat(e),{method:"GET"}).then((function(e){return e.json()}))}(a).then((function(t){e&&l(t),t[0]&&t[0].approved&&k(t[0].approved)})),function(){return e=!1}}),[a]),Object(S.jsxs)("div",{style:{paddingTop:"200px"},children:[Object(S.jsxs)("h3",{children:["Requested bike ID: ",a]}),Object(S.jsxs)("h3",{children:["Requested document ID: ",t," "]}),Object(S.jsx)(D,{type:"submit",style:{zIndex:9999},onClick:function(){return le({bikeID:a,documentID:t,setDisabled:p})},disabled:v||x,content:v?"Bike Already Approved":"Click to Approve"}),c.map((function(e,t){var a=e.photos,n=e.bikeID,i=e.bikeModel,r=e.userName,c=e.bikeDetails;return Object(S.jsx)(H,{bikeID:n,userName:r,bikeDetails:c,showBike:b,setActive:j,bikeModel:i,photos:a},n)}))]})},se=(a(150),a(103)),de=a.n(se),ue=a(12),be=a(212),je=Object(u.a)({root:{width:function(e){return e.fullWidth?"100%":"75%"}}}),me=function(e){var t=e.id,a=e.onChange,i=e.dataRef,r=e.label,c=e.charLimit,l=e.defaultValue,o=void 0===l?"":l,s=e.helperText,u=e.multiLine,b=e.numRows,j=e.rowsMax,m=e.fullWidth,h=e.required,x=je({fullWidth:m}),p=c||255,f=Object(n.useState)(o),g=Object(d.a)(f,2),O=g[0],v=g[1];return Object(S.jsx)(be.a,{id:t,className:x.root,label:r,inputProps:{maxLength:p},fullWidth:m,required:h,multiline:u,rows:b,rowsmax:j,value:O,helperText:"".concat(s,"   ").concat(O.length,"/").concat(p),onBlur:a(i),onChange:function(e){v(e.target.value)}})},he=Object(u.a)((function(e){return{root:{padding:e.spacing(1)}}})),xe=function(){var e=he();return Object(S.jsxs)(F.a,{align:"center",className:e.root,variant:"h6",gutterBottom:!0,children:["Please fill out the following form with details about your amazing Crust!",Object(S.jsx)("br",{}),"Note that some of the fields are marked as required (*).",Object(S.jsx)("br",{}),"The fields are free form so please add any detail about the component you find to be relevant (make, model, size)."]})},pe=Object(u.a)((function(e){return{root:{padding:e.spacing(1)}}})),fe=["Email Address","Name","Bike Model","Description","Frame Size","Bottom Bracket","Crank Set","Chainring","Pedals","Chain","Cassette or Cog","Handlebars","Stem","Headset","Seat Post","Saddle","Front Hub","Front Rim","Front Tire","Rear Hub","Rear Rim","Rear Tire"],ge=function(e){return fe.every((function(t){return""!==e[t]&&null!==e[t]&&void 0!==e[t]}))},Oe=function(e){var t=e.bikeDetails,a=e.setBikeDetails,n=(e.previousStep,e.nextStep),i=pe(),r=function(e){return function(n){a(Object(g.a)(Object(g.a)({},t),{},Object(ue.a)({},e,n.target.value)))}};return Object(S.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"5em"},children:[Object(S.jsx)(F.a,{variant:"h6",gutterBottom:!0,children:"Bike Deets"}),Object(S.jsx)(xe,{}),Object(S.jsxs)(p.a,{container:!0,spacing:0,justify:"center",alignItems:"center",children:[Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:12,lg:12,align:"center",children:Object(S.jsx)(ne,{value:t["Bike Model"],handleChange:r("Bike Model"),required:!0})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:12,lg:12,align:"center",children:Object(S.jsx)(me,{id:"description",label:"Description",dataRef:"Description",onChange:r,fieldName:"Description",charLimit:255,helperText:"(Give us a tall tale about your Crust)",multiLine:!0,numRows:3,rowsMax:10,fullWidth:!0,required:!0})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:12,lg:12,align:"center",children:Object(S.jsx)(me,{id:"email",label:"Email Address",dataRef:"Email Address",onChange:r,fieldName:"Email Address",charLimit:128,helperText:"Please input your email address",fullWidth:!0,required:!0})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:12,lg:12,align:"center",children:Object(S.jsx)(me,{id:"userName",label:"User Name",dataRef:"User Name",onChange:r,fieldName:"User Name",charLimit:64,helperText:"Please input a handle or your real name if you'd like",fullWidth:!0,required:!0})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"frameSize",onChange:r,label:"Frame Size",dataRef:"Frame Size",charLimit:16,helperText:"ex: 52cm, M, Extra Medium",required:!0})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"bottomBracket",onChange:r,label:"Bottom Bracket",dataRef:"Bottom Bracket",charLimit:64,helperText:"ex: Shimano UN26 English 110.5mm",required:!0})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"crankset",onChange:r,label:"Crankset",dataRef:"Crank Set",charLimit:32,helperText:"ex: White Industries VBC",required:!0})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"chainrings",label:"Chain Ring(s)",dataRef:"Chainring",onChange:r,charLimit:16,helperText:"ex: 42-32, 28t, 46/42/28",required:!0})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"pedals",label:"Pedals",dataRef:"Pedals",onChange:r,charLimit:16,helperText:"ex: MKS XC-III",required:!0})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"frontDerailleur",label:"Front Derailleur",dataRef:"Front Derailleur",onChange:r,charLimit:32,helperText:"ex: Campagnolo Super Record"})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"chain",label:"Chain",dataRef:"Chain",onChange:r,charLimit:32,required:!0,helperText:"ex: SRAM PC-1170, Sedisport Grand Tourisme 6spd"})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"cassette",label:"Cassette/Cog",dataRef:"Cassette or Cog",onChange:r,charLimit:32,required:!0,helperText:"ex: SRAM PG-1130 11-42t, All City 18t"})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"rearDerailleur",label:"Rear Derailleur",dataRef:"Rear Derailleur",onChange:r,charLimit:32,helperText:"ex: Huret Jubilee, Shimano XTR M970"})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"handlebars",label:"Handlebars",dataRef:"Handlebars",onChange:r,required:!0,charLimit:32,helperText:"ex: Crust Jungle Runner"})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"stem",label:"Stem",dataRef:"Stem",onChange:r,required:!0,charLimit:128,helperText:"ex: Nitto x Crust UI Quill Stem, Crust 40mm LD Raw Stem"})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"headset",label:"Headset",dataRef:"Headset",onChange:r,required:!0,charLimit:64,helperText:"ex: Inverted Chris King,Stronglight Roller Bearing"})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"shiftBrakeLevers",label:"Shift/Brake Levers",dataRef:"Shift or Brake Levers",onChange:r,charLimit:64,helperText:"ex: TRP RRL SR Black, SRAM Force 10spd Black"})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"shifters",label:"Shifters",dataRef:"Shifters",onChange:r,charLimit:64,helperText:"ex: Shimano 105 bar end, Simplex retrofriction downtube"})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"frontBrake",label:"Front Brake",dataRef:"Front Brake",onChange:r,charLimit:64,helperText:"ex: Crust Palm Oil"})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"rearBrake",label:"Rear Brake",dataRef:"Rear Brake",onChange:r,charLimit:64,helperText:"ex: Crust Palm Oil"})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"seatpost",label:"Seat Post",dataRef:"Seat Post",onChange:r,charLimit:64,required:!0,helperText:"ex: Nitto S65 27.2 Black"})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"saddle",label:"Saddle",dataRef:"Saddle",onChange:r,charLimit:64,required:!0,helperText:"ex: Brooks C17 Special Black w/ Gold Rivets, Selle Italia Turbo"})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"frontHub",label:"Front Hub",dataRef:"Front Hub",onChange:r,charLimit:64,required:!0,helperText:"ex: 32h Black QR SON Dynamo"})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"frontRim",label:"Front Rim",dataRef:"Front Rim",onChange:r,charLimit:64,required:!0,helperText:"ex: 32h Black Velocity Blunt 35 27.5"})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"frontTire",label:"Front Tire",dataRef:"Front Tire",onChange:r,charLimit:64,required:!0,helperText:"ex: Ultradynamico Cava 650b x 47.99"})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"rearHub",label:"Rear Hub",dataRef:"Rear Hub",onChange:r,charLimit:64,required:!0,helperText:"ex: 36h 142/12 Thru Onyx Vesper MTB XDR"})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"rearRim",label:"Rear Rim",dataRef:"Rear Rim",onChange:r,charLimit:64,required:!0,helperText:"ex: 32h Black Velocity Blunt 35 27.5"})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:6,lg:4,align:"center",children:Object(S.jsx)(me,{id:"rearTire",label:"Rear Tire",dataRef:"Rear Tire",onChange:r,charLimit:64,required:!0,helperText:"ex: Ultradynamico Cava 650b x 47.99"})}),Object(S.jsx)(p.a,{className:i.root,item:!0,xs:12,md:12,lg:12,align:"center",children:Object(S.jsx)(me,{id:"accessories",label:"Accessories",dataRef:"Accessories",fullWidth:!0,multiline:!0,rows:3,rowsmax:5,helperText:"(racks/lights/bags/safety 'za)",onChange:r})})]}),Object(S.jsx)(D,{content:"Next Step",disabled:!ge(t),onClick:function(){window.scroll({top:0,left:0,behavior:"smooth"}),n()}})]})},ve=a(218),ke=a(104),ye=a.n(ke),Ce=a(106),Ne=a(215),Re=a(217),we=a(214),Se=a(213),De=1e7,Be=function(e){var t=e.index,a=e.onImageUpdate,n=e.onImageRemove;return Object(S.jsxs)("div",{style:{display:"flex",justifyContent:"center"},className:"image-item__btn-wrapper",children:[Object(S.jsx)(D,{content:"Update",onClick:function(){return a(t)}}),Object(S.jsx)(D,{content:"Remove",onClick:function(){return n(t)}})]},t)},Ie=Object(u.a)({img:{height:240,width:300}}),Te=function(e){var t=e.file,a=e.onImageUpdate,n=e.onImageRemove,i=e.index,r=Ie();return Object(S.jsxs)(Se.a,{className:r.img,children:[Object(S.jsx)("img",{src:t.preview,alt:""}),Object(S.jsx)(Be,{index:i,onImageUpdate:a,onImageRemove:n})]},t.preview)},Le=Object(u.a)({root:{gap:20,margin:"2em"}}),Me=function(e){var t=e.files,a=e.onImageUpdate,i=e.onImageRemove,r=Le();return Object(n.useEffect)((function(){return function(){t.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[t]),Object(S.jsx)(we.a,{cols:3,className:r.root,children:t.map((function(e,t){return Object(S.jsx)(Te,{file:e,index:t,onImageUpdate:a,onImageRemove:i},e.preview)}))})},Pe=(a(152),{display:"flex",flexDirection:"column",alignItems:"center",padding:"2em"}),Fe={flex:1,display:"flex",flexDirection:"column",alignItems:"center",width:"80%",padding:"100px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},qe=function(e){var t=e.bikeDetails,a=e.previousStep,n=e.nextStep,r=i.a.useState([]),c=Object(d.a)(r,2),l=c[0],o=c[1],s=i.a.useState(!1),u=Object(d.a)(s,2),b=u[0],j=u[1],m=i.a.useState(!1),h=Object(d.a)(m,2),x=h[0],p=h[1],f=i.a.useState(!1),O=Object(d.a)(f,2),v=O[0],k=O[1],y=Object(g.a)({Model:function(e){var t=e["Bike Model"],a=te.filter((function(e){return e.value===t}))[0];return a?a.displayName:"Awesome Crust Bike"}(t)},t),C=Object(Ce.a)({accept:"image/*"}).getRootProps,N=function(){if(b){if(l.length<1)alert("Please upload at least one photo of your beautiful Crust!");else if(b){p(!0);var e=Object(ve.a)(),t=new FormData;l.forEach((function(e,a){var n=e.file;t.append(a,n)})),t.append("bikeID",e),t.append("bikeDetails",JSON.stringify(y)),function(e){return fetch("".concat(ce,"image-upload"),{method:"POST",body:e}).then((function(e){return e.json()}))}(t).then((function(e){p(!1),k(!0),n()})).catch((function(e){return console.log(e)}))}}else alert("Please mark your bike submission for approval!")};return Object(S.jsxs)("div",{className:"App",children:[Object(S.jsx)(ye.a,{multiple:!0,acceptType:["jpg","gif","png"],value:l,onChange:function(e,t){o(e.map((function(e){return Object.assign(Object(g.a)({},e),{preview:URL.createObjectURL(e.file)})})))},onError:function(e,t){alert(function(e){var t=Object.keys(e)[0],a={maxNumber:"Number of selected images exceed max number of ".concat(10,"."),acceptType:"One or more of your file types is not allowed.",maxFileSize:"One or more of your files exceed the max file size of ".concat(10," MB."),resolution:"One or more of your files exceeds the max resolution of ".concat(5500," W x ").concat(5500," H.")};return t in a?a[t]:"An unknown error was encountered, please try again"}(e))},maxNumber:10,maxFileSize:De,resolutionType:"less",resolutionWidth:5500,resolutionHeight:5500,dataURLKey:"data_url",children:function(e){e.imageList;var t=e.onImageUpload,a=e.onImageRemoveAll,n=e.onImageUpdate,i=e.onImageRemove,r=(e.isDragging,e.dragProps);return Object(S.jsxs)("div",{className:"upload__image-wrapper",style:Pe,children:[Object(S.jsx)(Ne.a,{control:Object(S.jsx)(Re.a,{color:"secondary",name:"submitBike",value:"yes",onChange:function(e){return e.target.checked?j(!0):j(!1)}}),label:"Ready to submit bike for approval?"}),(!x||v)&&Object(S.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",margin:"20px"},children:[Object(S.jsx)(D,{content:"Remove All Images",onClick:a}),Object(S.jsx)(D,{disabled:l.length<1||x||v||!b,content:"Submit Photos",onClick:N})]}),(!x&&!b||0===l.length)&&Object(S.jsx)("div",Object(g.a)(Object(g.a)({style:C(Object(g.a)({},Fe)),onClick:t},r),{},{children:"Click or Drop here"})),(!x||v)&&Object(S.jsx)("div",{children:Object(S.jsx)(Me,{files:l,onImageUpdate:n,onImageRemove:i})}),x&&Object(S.jsx)(Q,{type:"pacman",loading:!0,size:110})]})}}),!x&&Object(S.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},className:"progress-page-upload__btn-wrapper",children:Object(S.jsx)(D,{content:"Back to Bike Deets",onClick:a})})]})},Ae=function(){return Object(S.jsxs)("div",{style:{paddingTop:"50px"},children:[Object(S.jsx)("p",{children:"Your bike has been submitted for approval. Please check back soon!"}),Object(S.jsx)("div",{style:{display:"flex",justifyContent:"center"},className:"progress-page-upload__btn-wrapper",children:Object(S.jsx)(D,{onClick:function(){window.scroll({top:0,left:0,behavior:"smooth"}),window.location="#/bikes"},content:"Go to Bikes"})})]})},Ee=function(){var e=Object(n.useState)({}),t=Object(d.a)(e,2),a=t[0],i=t[1];return Object(S.jsxs)(de.a,{children:[Object(S.jsx)(Oe,{setBikeDetails:i,bikeDetails:a}),Object(S.jsx)(qe,{bikeDetails:a}),Object(S.jsx)(Ae,{})]})};a(153).config();var Ue=Object(s.a)()((function(e){var t=e.width,a=Object(o.g)(),n=new URLSearchParams(a.search);return Object(S.jsxs)("div",{id:"peep-show-container",children:[Object(S.jsx)("nav",{id:"image-app-nav",children:Object(S.jsxs)("ul",{id:"image-uploader-nav",children:[Object(S.jsx)("li",{className:"nav-link",children:Object(S.jsx)(l.b,{to:"/upload",children:"Upload Your Crust"})}),Object(S.jsx)("li",{className:"nav-link",children:Object(S.jsx)(l.b,{to:"/bikes",children:"Peep The Bikes"})})]})}),Object(S.jsxs)(o.d,{children:[Object(S.jsx)(o.b,{path:"/upload",children:Object(S.jsx)(Ee,{})}),Object(S.jsx)(o.b,{path:"/bikes",children:Object(S.jsx)(re,{width:t})}),Object(S.jsx)(o.b,{path:"/bike/:bikeID",children:Object(S.jsx)(oe,{documentID:n.get("documentID")})}),Object(S.jsx)(o.b,{exact:!0,path:"/",children:Object(S.jsx)(o.a,{to:"/bikes"})}),Object(S.jsx)(o.b,{exact:!0,path:"#/",children:Object(S.jsx)(o.a,{to:"/bikes"})})]})]})})),He=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,221)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),i(e),r(e),c(e)}))};c.a.render(Object(S.jsx)(i.a.StrictMode,{children:Object(S.jsx)(l.a,{basename:"/",children:Object(S.jsx)(Ue,{})})}),document.getElementById("root")),He()}},[[156,1,2]]]);
//# sourceMappingURL=main.fcabfe20.chunk.js.map