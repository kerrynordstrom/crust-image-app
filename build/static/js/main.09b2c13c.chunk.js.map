{"version":3,"sources":["api/helpers.js","Upload.js","api/post.js","CarouselBike.js","BikesByModel.js","api/get.js","BikeSelector.js","App.js","reportWebVitals.js","index.js"],"names":["domain","process","REACT_APP_ENVIRONMENT","Upload","React","useState","images","setImages","setUploading","onSubmit","formData","FormData","forEach","i","file","append","fetch","method","body","then","res","json","postImages","className","multiple","value","onChange","imageList","addUpdateIndex","console","log","maxNumber","dataURLKey","onImageUpload","onImageRemoveAll","onImageUpdate","onImageRemove","isDragging","dragProps","style","color","onClick","map","image","index","src","data_url","alt","width","customStyles","content","top","left","right","bottom","marginRight","transform","CarouselBike","subtitle","showBike","photos","setActive","bikeID","bikeModel","modalIsOpen","setIsOpen","closeModal","showModal","length","isOpen","onAfterOpen","onRequestClose","contentLabel","ref","_subtitle","items","thumbnail","BikesByModel","useParams","bikes","setBikes","active","useEffect","mounted","data","getBikesByModel","BikeSelector","match","useRouteMatch","to","url","path","require","config","env","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.09b2c13c.chunk.js","sourcesContent":["export const domain =\n  process.env.REACT_APP_ENVIRONMENT &&\n  process.env.REACT_APP_ENVIRONMENT === \"production\"\n    ? process.env.REACT_APP_PROD_API_URL\n    : process.env.REACT_APP_DEV_API_URL;","import React from \"react\";\nimport ImageUploading from \"react-images-uploading\";\n\nimport { postImages } from \"./api/post\";\n\nconst Upload = () => {\n  const [images, setImages] = React.useState([]);\n  const [uploading, setUploading] = React.useState(false);\n  const maxNumber = 10;\n  const onChange = (imageList, addUpdateIndex) => {\n    // data for submit\n    console.log(imageList, addUpdateIndex);\n    setImages(imageList);\n  };\n  const onSubmit = () => {\n    setUploading(true);\n\n    const formData = new FormData();\n\n    images.forEach(({file}, i) => {\n      formData.append(i, file);\n      formData.append('public_id', `foo_bike_${i}`)\n    });\n\n    postImages(formData)\n      .then((images) => {\n        setUploading(false);\n        setImages(images);\n      });\n  };\n\n  return (\n    <div className=\"App\">\n      <ImageUploading\n        multiple\n        value={images}\n        onChange={onChange}\n        maxNumber={maxNumber}\n        dataURLKey=\"data_url\"\n      >\n        {({\n          imageList,\n          onImageUpload,\n          onImageRemoveAll,\n          onImageUpdate,\n          onImageRemove,\n          isDragging,\n          dragProps,\n        }) => (\n          // write your building UI\n          <div className=\"upload__image-wrapper\">\n            <button\n              style={isDragging ? { color: \"red\" } : null}\n              onClick={onImageUpload}\n              {...dragProps}\n            >\n              Click or Drop here\n            </button>\n            &nbsp;\n            <button onClick={onImageRemoveAll}>Remove all images</button>\n            <button onClick={onSubmit}>Submit</button>\n            {imageList.map((image, index) => (\n              <div key={index} className=\"image-item\">\n                <img src={image.data_url} alt=\"\" width=\"100\" />\n                <div className=\"image-item__btn-wrapper\">\n                  <button onClick={() => onImageUpdate(index)}>Update</button>\n                  <button onClick={() => onImageRemove(index)}>Remove</button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </ImageUploading>\n    </div>\n  );\n}\n\nexport default Upload;\n","import { domain } from './helpers';\n\nexport const postImages = (formData) => fetch(`${domain}image-upload`, {\n  method: \"POST\",\n  body: formData,\n}).then((res) => res.json());","import React from \"react\";\nimport \"./styles/carousel.scss\";\nimport ImageGallery from 'react-image-gallery';\nimport Modal from 'react-modal';\n\n// Modal.setAppElement('#root')\n\nconst customStyles = {\n  content : {\n    top                   : '50%',\n    left                  : '50%',\n    right                 : 'auto',\n    bottom                : 'auto',\n    marginRight           : '-50%',\n    transform             : 'translate(-50%, -50%)'\n  }\n};\n\nconst CarouselBike = ({showBike, photos, setActive, bikeID, bikeModel}) => {\n  let subtitle;\n  const [modalIsOpen, setIsOpen] = React.useState(false);\n\n  const openModal = () => {\n    setIsOpen(true);\n  }\n\n  const afterOpenModal = () => {\n    // references are now sync'd and can be accessed.\n    subtitle.style.color = \"#f00\";\n  }\n\n  const closeModal = () => {\n    setIsOpen(false);\n    setActive(0);\n  }\n\n  console.log({bikeID, showBike, showModal: bikeID === showBike})\n\n  return (bikeID === showBike) ? (\n    <div>\n      {photos.length > 0 && (\n        <Modal isOpen={modalIsOpen} onAfterOpen={afterOpenModal} onRequestClose={closeModal} style={customStyles} contentLabel=\"Gallery Modal\">\n        <h2 ref={_subtitle => (subtitle = _subtitle)}>{bikeModel}</h2>\n        <button onClick={closeModal}>Close</button>\n          <ImageGallery items={photos}/>\n        </Modal>\n        )}\n    </div>\n  ) : <img onClick={() => {\n    if (photos.length === 0) return;\n    openModal();\n    setActive(bikeID)\n  }} alt=\"placeholder\" src={photos.length > 0 && photos[0].thumbnail ? photos[0].thumbnail : \"https://via.placeholder.com/400x200.png?text=Placeholder\"}></img>;\n};\n\nexport default CarouselBike;\n","import React, { useEffect, useState } from \"react\";\nimport {\n  useParams,\n} from \"react-router-dom\";\nimport { getBikesByModel } from './api/get'\nimport CarouselBike from \"./CarouselBike\";\n\nconst BikesByModel = () => {\n  let { bikeModel } = useParams();\n  const [bikes, setBikes] = useState([])\n  const [active, setActive] = useState(0)\n  useEffect(() => {\n    let mounted = true;\n    getBikesByModel(bikeModel).then((bikes) => {\n      console.log('bikes', bikes)\n      if (mounted) {\n        setBikes(bikes);\n      }\n    });\n    return () => mounted = false;\n  }, [bikeModel]);\n  return (\n    <div>\n    <h3>Requested bike model: {bikeModel}</h3>\n    {\n      bikes.map(({photos, bikeID}, i) => {\n        return (<CarouselBike bikeID={bikeID} key={bikeID} showBike={active} setActive={setActive} bikeModel={bikeModel} photos={photos} />)\n      })\n    }\n    </div>\n  );\n};\n\nexport default BikesByModel;","import { domain } from './helpers';\n\nexport const getBikesByModel = (bikeModel) =>\n      fetch(`${domain}bikes/${bikeModel}`, {\n      method: \"GET\",\n      }).then((data) => data.json());","import React from 'react';\nimport { Switch, Route, Link, useRouteMatch } from \"react-router-dom\";\n\nimport BikesByModel from \"./BikesByModel\";\n\nconst BikeSelector = () => {\n  let match = useRouteMatch();\n  return (\n    <div>\n      <h2>Bikes</h2>\n\n      <ul>\n        <li>\n          <Link to={`${match.url}/evasion`}>Evasion</Link>\n        </li>\n        <li>\n          <Link to={`${match.url}/lightningbolt`}>Lightning Bolt</Link>\n        </li>\n      </ul>\n\n      {/* The Topics page has its own <Switch> with more routes\n          that build on the /topics URL path. You can think of the\n          2nd <Route> here as an \"index\" page for all topics, or\n          the page that is shown when no topic is selected */}\n      <Switch>\n        <Route path={`${match.path}/:bikeModel`}>\n          <BikesByModel />\n        </Route>\n        <Route path={match.path}>\n          <h3>Please select a bike model.</h3>\n        </Route>\n      </Switch>\n    </div>\n  );\n};\n\nexport default BikeSelector;","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom'\n\nimport Upload from \"./Upload\";\nimport BikeSelector from \"./BikeSelector\";\n\nrequire(\"dotenv\").config();\n\nconsole.log('process.env', {env: process.env})\n\nfunction App() {\n  return (\n    <Router>\n      <div>\n        <nav>\n          <ul>\n            <li>\n              <Link to=\"/Upload\">Upload</Link>\n            </li>\n            <li>\n              <Link to=\"/bikes\">Bikes</Link>\n            </li>\n          </ul>\n        </nav>\n\n        <Switch>\n          <Route path=\"/upload\">\n            <Upload />\n          </Route>\n          <Route path=\"/bikes\">\n            <BikeSelector />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}